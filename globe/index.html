<html>
    <head>
        <title>globe</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
        <style>
            canvas {
                image-rendering: -moz-crisp-edges;
                image-rendering: -webkit-crisp-edges;
                image-rendering: pixelated;
                image-rendering: crisp-edges;
            }
        </style>
        <script>
            let camShader;
            let slider;

            function preload() {
                // load the shader
                camShader = loadShader('./p5assets/treshold.vert', './p5assets/treshold.frag');
            }
            function setup() {
                slider = createSlider(0, 255, 100);
                slider.position(10, 10);
                slider.style('width', '80px');
                pixelDensity(0.25);
                createCanvas(800, 800, WEBGL);
                pg = createGraphics(800, 800, WEBGL);
            }

            function draw() {
                pg.clear();
                pg.background(0, 0, 0);
                pg.noStroke();

                pg.push();
                pg.rotateY(frameCount * 0.015);
                pg.rotateZ(0.25);
                pg.rotateX(-0.25);
                pg.rotateY(frameCount * 0.01);

                pg.push();
                pg.fill(color(255, 255, 255));
                pg.sphere(slider.value());
                pg.pop();

                pg.push();
                pg.rotateX(0);
                pg.rotateY(0);
                pg.rotateZ(0);
                pg.fill(255, 255, 255);
                pg.rotateX(1.5708);
                pg.torus(140, 15, 32, 2);
                pg.torus(190, 2, 32, 2);
                pg.torus(200, 3, 32, 2);
                pg.pop();

                pg.pop();
                shader(camShader);
                camShader.setUniform('tex0', pg);
                rect(0, 0, width, height);
            }
        </script>
    </head>
    <body>

    </body>
</html>